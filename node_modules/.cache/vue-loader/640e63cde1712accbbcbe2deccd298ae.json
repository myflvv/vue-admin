{"remainingRequest":"/home/nothing/data/vue/mall-vue3-manage/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/nothing/data/vue/mall-vue3-manage/src/views/Login.vue?vue&type=template&id=26084dc2","dependencies":[{"path":"/home/nothing/data/vue/mall-vue3-manage/src/views/Login.vue","mtime":1615423561122},{"path":"/home/nothing/data/vue/mall-vue3-manage/node_modules/cache-loader/dist/cjs.js","mtime":1589968278364},{"path":"/home/nothing/data/vue/mall-vue3-manage/node_modules/babel-loader/lib/index.js","mtime":1614068612755},{"path":"/home/nothing/data/vue/mall-vue3-manage/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1614935255022},{"path":"/home/nothing/data/vue/mall-vue3-manage/node_modules/cache-loader/dist/cjs.js","mtime":1589968278364},{"path":"/home/nothing/data/vue/mall-vue3-manage/node_modules/vue-loader-v16/dist/index.js","mtime":1614935255022}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2IGNsYXNzPSJsb2dpbiIgOnN0eWxlPSJsb2dpbiI+CiAgICAgICAgPGVsLXJvdyA6Z3V0dGVyPSIxMCIgY2xhc3M9ImxvZ2luLWNvbnRhaW5lciI+CiAgICAgICAgICAgIDxlbC1mb3JtIDptb2RlbD0ibG9naW5Gb3JtIiA6cnVsZXM9InJ1bGVzIiByZWY9InZhbGlkYXRlRm9ybSIgbGFiZWwtd2lkdGg9IjFlbSIgY2xhc3M9ImxvZ2luLWJvZHkiCiAgICAgICAgICAgICAgICAgICAgIGhpZGUtcmVxdWlyZWQtYXN0ZXJpc2s9ImZhbHNlIj4KICAgICAgICAgICAgICAgIDxlbC1pbWFnZSBjbGFzcz0ibG9naW4tbG9nbyIgOnNyYz0ibG9nb0ltZyI+PC9lbC1pbWFnZT4KICAgICAgICAgICAgICAgIDxlbC1mb3JtLWl0ZW0gcHJvcD0idXNlcm5hbWUiPgogICAgICAgICAgICAgICAgICAgIDxlbC1pbnB1dCB2LW1vZGVsPSJsb2dpbkZvcm0udXNlcm5hbWUiIHByZWZpeC1pY29uPSJlbC1pY29uLXVzZXIiIHBsYWNlaG9sZGVyPSLor7fovpPlhaXnlKjmiLflkI3np7AiPjwvZWwtaW5wdXQ+CiAgICAgICAgICAgICAgICA8L2VsLWZvcm0taXRlbT4KICAgICAgICAgICAgICAgIDxlbC1mb3JtLWl0ZW0gcHJvcD0icGFzc3dvcmQiPgogICAgICAgICAgICAgICAgICAgIDxlbC1pbnB1dCB0eXBlPSJwYXNzd29yZCIgdi1tb2RlbD0ibG9naW5Gb3JtLnBhc3N3b3JkIiBwcmVmaXgtaWNvbj0iZWwtaWNvbi1sb2NrIiBzaG93LXBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSLor7fovpPlhaXlr4bnoIEiPjwvZWwtaW5wdXQ+CiAgICAgICAgICAgICAgICA8L2VsLWZvcm0taXRlbT4KICAgICAgICAgICAgICAgIDxlbC1mb3JtLWl0ZW0gcHJvcD0iaW1nQ29kZSI+CiAgICAgICAgICAgICAgICAgICAgPGVsLXJvdz4KICAgICAgICAgICAgICAgICAgICAgICAgPGVsLWNvbCA6c3Bhbj0iMTQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGVsLWlucHV0IHYtbW9kZWw9ImxvZ2luRm9ybS5pbWdDb2RlIiBwcmVmaXgtaWNvbj0iZWwtaWNvbi1tZXNzYWdlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSLor7fovpPlhaXpqozor4HnoIEiPjwvZWwtaW5wdXQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZWwtY29sPgogICAgICAgICAgICAgICAgICAgICAgICA8ZWwtY29sIDpzcGFuPSI5IiA6b2Zmc2V0PSIxIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxWdWVJbWdWZXJpZnkgcmVmPSJ2ZXJpZnlSZWYiPjwvVnVlSW1nVmVyaWZ5PgogICAgICAgICAgICAgICAgICAgICAgICA8L2VsLWNvbD4KICAgICAgICAgICAgICAgICAgICA8L2VsLXJvdz4KICAgICAgICAgICAgICAgIDwvZWwtZm9ybS1pdGVtPgogICAgICAgICAgICAgICAgPGVsLWZvcm0taXRlbT4KICAgICAgICAgICAgICAgICAgICA8ZWwtYnV0dG9uIHR5cGU9InRleHQiPuW/mOiusOWvhuegge+8nzwvZWwtYnV0dG9uPgogICAgICAgICAgICAgICAgPC9lbC1mb3JtLWl0ZW0+CiAgICAgICAgICAgICAgICA8ZWwtZm9ybS1pdGVtIGNsYXNzPSJsb2dpbi1ib2R5LWJ1dHRvbiI+CiAgICAgICAgICAgICAgICAgICAgPGVsLWJ1dHRvbiBjbGFzcz0ibG9naW4tc3VibWl0IiB0eXBlPSJkYW5nZXIiIHJvdW5kIEBjbGljaz0ic3VibWl0Ij7nmbvlvZU8L2VsLWJ1dHRvbj4KICAgICAgICAgICAgICAgIDwvZWwtZm9ybS1pdGVtPgogICAgICAgICAgICA8L2VsLWZvcm0+CiAgICAgICAgPC9lbC1yb3c+CiAgICA8L2Rpdj4K"},{"version":3,"sources":["/home/nothing/data/vue/mall-vue3-manage/src/views/Login.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBACxF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC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","file":"/home/nothing/data/vue/mall-vue3-manage/src/views/Login.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"login\" :style=\"login\">\n        <el-row :gutter=\"10\" class=\"login-container\">\n            <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"validateForm\" label-width=\"1em\" class=\"login-body\"\n                     hide-required-asterisk=\"false\">\n                <el-image class=\"login-logo\" :src=\"logoImg\"></el-image>\n                <el-form-item prop=\"username\">\n                    <el-input v-model=\"loginForm.username\" prefix-icon=\"el-icon-user\" placeholder=\"请输入用户名称\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <el-input type=\"password\" v-model=\"loginForm.password\" prefix-icon=\"el-icon-lock\" show-password\n                              placeholder=\"请输入密码\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"imgCode\">\n                    <el-row>\n                        <el-col :span=\"14\">\n                            <el-input v-model=\"loginForm.imgCode\" prefix-icon=\"el-icon-message\"\n                                      placeholder=\"请输入验证码\"></el-input>\n                        </el-col>\n                        <el-col :span=\"9\" :offset=\"1\">\n                            <VueImgVerify ref=\"verifyRef\"></VueImgVerify>\n                        </el-col>\n                    </el-row>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"text\">忘记密码？</el-button>\n                </el-form-item>\n                <el-form-item class=\"login-body-button\">\n                    <el-button class=\"login-submit\" type=\"danger\" round @click=\"submit\">登录</el-button>\n                </el-form-item>\n            </el-form>\n        </el-row>\n    </div>\n</template>\n\n<script>\n    import {onBeforeMount, reactive, ref, toRefs, unref} from \"vue\"\n    import {useRouter} from 'vue-router'\n    import {useStore} from 'vuex'\n    import {login} from '@/api/serviceApi'\n    import {ElMessage} from \"element-plus\"\n    import VueImgVerify from '@/components/VueImageVerify'\n\n    export default {\n        setup() {\n            const router = useRouter()\n            const store = useStore()\n            const validateForm = ref(null)\n            const verifyRef = ref(null)\n            const state = reactive({\n                login: {\n                    height: '',\n                    backgroundImage: 'url(' + require('@/assets/image/login_bj.png') + ')'\n                },\n                logoImg: require('@/assets/image/logo.png'),\n                loginForm: {\n                    username: '',\n                    password: '',\n                    imgCode: ''\n                },\n            })\n\n            const rules = {\n                username: [\n                    {required: true, message: '用户名称不能为空', trigger: 'blur'}\n                ],\n                password: [\n                    {required: true, message: '密码不能为空', trigger: 'blur'}\n                ],\n                imgCode: [\n                    {required: true, message: '验证码不能为空', trigger: 'blur'}\n                ]\n            }\n\n            onBeforeMount(() => {\n                state.login.height = document.body.clientHeight + \"px\"\n            })\n\n            const submit = async () => {\n                const form = unref(validateForm)\n                if (!form) {\n                    return\n                }\n                await form.validate()\n\n                // 校验验证码\n                const _imgCode = verifyRef.value.imgCode || ''\n                if (_imgCode.toLowerCase() != state.loginForm.imgCode.toLowerCase()) {\n                    ElMessage({showClose: true, message: '验证码有误，请重新输入!', type: 'error'})\n                    return\n                }\n\n                console.log(state.loginForm)\n\n                login(state.loginForm).then(res => {\n                    if (res.code === 200) {\n                        // 登录成功后设置token到vuex中\n                        localStorage.username = res.data.username\n                        store.commit('setToken', res.data.token)\n                        router.push({path: 'home'})\n                    } else {\n                        ElMessage({showClose: true, message: res.data, type: 'error'})\n                    }\n                })\n            }\n\n            return {\n                ...toRefs(state),\n                rules,\n                validateForm,\n                verifyRef,\n                submit,\n            }\n        },\n        components: {\n            VueImgVerify\n        }\n    }\n</script>\n\n<style lang=\"less\">\n    .login {\n        background-size: cover;\n\n        .login-logo {\n            width: 120px;\n            height: 120px;\n            display: block;\n            margin: 2rem auto;\n        }\n\n        .login-container {\n            position: absolute;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n            background: rgba(233, 233, 233, 0.3);\n            border-radius: 0.4rem;\n            border: 1px white solid;\n            padding: 0.8rem;\n        }\n\n        .login-body {\n            padding: 1rem 2rem;\n            background: rgba(233, 233, 233, 0.6);\n            width: 25rem;\n            border-radius: 0.2rem;\n        }\n\n        .el-input__inner {\n            border-radius: 20px;\n        }\n\n        .codeImg {\n            height: 40px;\n        }\n\n        .login-submit {\n            width: 100%;\n        }\n    }\n</style>"]}]}