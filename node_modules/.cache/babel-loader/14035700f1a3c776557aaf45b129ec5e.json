{"remainingRequest":"/home/nothing/data/vue/mall-vue3-manage/node_modules/babel-loader/lib/index.js!/home/nothing/data/vue/mall-vue3-manage/node_modules/eslint-loader/index.js??ref--13-0!/home/nothing/data/vue/mall-vue3-manage/src/utils/axios_kong.js","dependencies":[{"path":"/home/nothing/data/vue/mall-vue3-manage/src/utils/axios_kong.js","mtime":1615538412850},{"path":"/home/nothing/data/vue/mall-vue3-manage/node_modules/cache-loader/dist/cjs.js","mtime":1589968278364},{"path":"/home/nothing/data/vue/mall-vue3-manage/node_modules/babel-loader/lib/index.js","mtime":1614068612755},{"path":"/home/nothing/data/vue/mall-vue3-manage/node_modules/eslint-loader/index.js","mtime":1589968282050}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvbm90aGluZy9kYXRhL3Z1ZS9tYWxsLXZ1ZTMtbWFuYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgRWxNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC1wbHVzJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOwppbXBvcnQgTlByb2dyZXNzIGZyb20gJ25wcm9ncmVzcyc7CmltcG9ydCAnbnByb2dyZXNzL25wcm9ncmVzcy5jc3MnOyAvLyBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gJy9hcGknCgpheGlvcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOyAvLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzWydYLVJlcXVlc3RlZC1XaXRoJ10gPSAnWE1MSHR0cFJlcXVlc3QnCgpheGlvcy5kZWZhdWx0cy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSB8fCAnJzsKYXhpb3MuZGVmYXVsdHMuaGVhZGVyc1snYXBpa2V5J10gPSAnWmxFcVN6ZVFvMXhFbzBXM1JxaDd0M3g4ZDc3VXdSM08nOwpheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCc7Ck5Qcm9ncmVzcy5pbmMoMC4yKTsKTlByb2dyZXNzLmNvbmZpZ3VyZSh7CiAgZWFzaW5nOiAnZWFzZScsCiAgc3BlZWQ6IDYwMCwKICBzaG93U3Bpbm5lcjogZmFsc2UKfSk7CmF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5ZCv5Yqo6L+b5bqm5p2hCiAgTlByb2dyZXNzLnN0YXJ0KCk7CiAgcmV0dXJuIGNvbmZpZzsKfSk7CmF4aW9zLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIGlmIChfdHlwZW9mKHJlcy5kYXRhKSAhPT0gJ29iamVjdCcpIHsKICAgIEVsTWVzc2FnZUJveC5hbGVydCgi5pyN5Yqh5Zmo5byC5bi477yM6K+356iN5ZCO5YaN6K+V77yBIik7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzKTsKICB9CgogIGlmIChyZXMuZGF0YS5yZXN1bHRDb2RlICE9IDIwMCkgewogICAgaWYgKHJlcy5kYXRhLm1lc3NhZ2UpIEVsTWVzc2FnZUJveC5hbGVydChyZXMuZGF0YS5tZXNzYWdlKTsKCiAgICBpZiAocmVzLmRhdGEucmVzdWx0Q29kZSA9PSA0MTYpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZGF0YSk7CiAgfSAvLyDlhbPpl63ov5vluqbmnaEKCgogIE5Qcm9ncmVzcy5kb25lKCk7CiAgcmV0dXJuIHJlcy5kYXRhOwp9KTsKZXhwb3J0IGRlZmF1bHQgYXhpb3M7"},{"version":3,"sources":["/home/nothing/data/vue/mall-vue3-manage/src/utils/axios_kong.js"],"names":["axios","ElMessageBox","router","NProgress","defaults","withCredentials","headers","localStorage","getItem","post","inc","configure","easing","speed","showSpinner","interceptors","request","use","config","start","response","res","data","alert","Promise","reject","resultCode","message","push","path","done"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,cAA7B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP,C,CAEA;;AACAH,KAAK,CAACI,QAAN,CAAeC,eAAf,GAAiC,IAAjC,C,CACA;;AACAL,KAAK,CAACI,QAAN,CAAeE,OAAf,CAAuB,eAAvB,IAA0CC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAA3E;AACAR,KAAK,CAACI,QAAN,CAAeE,OAAf,CAAuB,QAAvB,IAAmC,kCAAnC;AACAN,KAAK,CAACI,QAAN,CAAeE,OAAf,CAAuBG,IAAvB,CAA4B,cAA5B,IAA8C,kDAA9C;AAEAN,SAAS,CAACO,GAAV,CAAc,GAAd;AACAP,SAAS,CAACQ,SAAV,CAAoB;AAAEC,EAAAA,MAAM,EAAE,MAAV;AAAkBC,EAAAA,KAAK,EAAE,GAAzB;AAA8BC,EAAAA,WAAW,EAAE;AAA3C,CAApB;AAEAd,KAAK,CAACe,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAUC,MAAV,EAAkB;AAC7C;AACAf,EAAAA,SAAS,CAACgB,KAAV;AACA,SAAOD,MAAP;AACH,CAJD;AAMAlB,KAAK,CAACe,YAAN,CAAmBK,QAAnB,CAA4BH,GAA5B,CAAgC,UAAAI,GAAG,EAAI;AACnC,MAAI,QAAOA,GAAG,CAACC,IAAX,MAAoB,QAAxB,EAAkC;AAC9BrB,IAAAA,YAAY,CAACsB,KAAb,CAAmB,cAAnB;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAP;AACH;;AAED,MAAIA,GAAG,CAACC,IAAJ,CAASI,UAAT,IAAuB,GAA3B,EAAgC;AAC5B,QAAIL,GAAG,CAACC,IAAJ,CAASK,OAAb,EAAsB1B,YAAY,CAACsB,KAAb,CAAmBF,GAAG,CAACC,IAAJ,CAASK,OAA5B;;AACtB,QAAIN,GAAG,CAACC,IAAJ,CAASI,UAAT,IAAuB,GAA3B,EAAgC;AAC5BxB,MAAAA,MAAM,CAAC0B,IAAP,CAAY;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAZ;AACH;;AACD,WAAOL,OAAO,CAACC,MAAR,CAAeJ,GAAG,CAACC,IAAnB,CAAP;AACH,GAZkC,CAcnC;;;AACAnB,EAAAA,SAAS,CAAC2B,IAAV;AAEA,SAAOT,GAAG,CAACC,IAAX;AACH,CAlBD;AAoBA,eAAetB,KAAf","sourcesContent":["import axios from 'axios'\nimport { ElMessageBox } from 'element-plus'\nimport router from '../router'\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\n\n// axios.defaults.baseURL = '/api'\naxios.defaults.withCredentials = true\n// axios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'\naxios.defaults.headers['Authorization'] = localStorage.getItem('token') || ''\naxios.defaults.headers['apikey'] = 'ZlEqSzeQo1xEo0W3Rqh7t3x8d77UwR3O'\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8'\n\nNProgress.inc(0.2)\nNProgress.configure({ easing: 'ease', speed: 600, showSpinner: false })\n\naxios.interceptors.request.use(function (config) {\n    // 启动进度条\n    NProgress.start()\n    return config\n})\n\naxios.interceptors.response.use(res => {\n    if (typeof res.data !== 'object') {\n        ElMessageBox.alert(\"服务器异常，请稍后再试！\")\n        return Promise.reject(res)\n    }\n   \n    if (res.data.resultCode != 200) {\n        if (res.data.message) ElMessageBox.alert(res.data.message)\n        if (res.data.resultCode == 416) {\n            router.push({path: '/login'})\n        }\n        return Promise.reject(res.data)\n    }\n\n    // 关闭进度条\n    NProgress.done()\n\n    return res.data\n})\n\nexport default axios"]}]}